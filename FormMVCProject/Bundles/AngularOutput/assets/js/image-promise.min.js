/*! npm.im/image-promise 5.0.1 */
var loadImage=function(){"use strict";function e(r){if(!r)return Promise.reject();if("string"==typeof r){var t=r;r=new Image,r.src=t}else{if(void 0!==r.length){var n=[].map.call(r,function(r){return e(r).catch(function(e){return e})});return Promise.all(n).then(function(e){var r=e.filter(function(e){return e.naturalWidth});return r.length===e.length?r:Promise.reject({loaded:r,errored:e.filter(function(e){return!e.naturalWidth})})})}if("IMG"!==r.tagName)return Promise.reject()}var i=new Promise(function(e,t){function n(){r.naturalWidth?e(r):t(r),r.removeEventListener("load",n),r.removeEventListener("error",n)}r.naturalWidth?e(r):r.complete?t(r):(r.addEventListener("load",n),r.addEventListener("error",n))});return i.image=r,i}return e}();
